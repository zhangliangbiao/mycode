<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.isz.erp.house.mapper.OnlineHouseCategoryMapper">
	<resultMap id="onlineHouseCategoryMapper" type="com.isz.erp.facade.house.entity.OnlineHouseCategory">
	    <id column="category_id" property="category_id"/>
	    <result column="info_id" property="info_id"/>
	    <result column="recommended_type" property="recommended_type"/>
	    <result column="recommended_title" property="recommended_title"/>
	    <result column="create_time" property="create_time"/>
	    <result column="create_uid" property="create_uid"/>
	     <!-- 特价标签 -->
	    <collection property="recommendedTagList"
	    	column="category_id" select="com.isz.erp.house.mapper.OnlineHouseRecommendedMapper.selectRecommendedDetailListByCategoryId" fetchType="eager">
	    </collection>
	    
	 </resultMap>
	    
	 <select id="selectCategoryDetailListByInfoId" resultMap="onlineHouseCategoryMapper"  parameterType="java.lang.String" >
	     select * from online_house_category ohr where ohr.info_id=#{info_id}
	  </select>
	  
	  <update id="deleteByInfoId" parameterType="java.lang.String">
	  		delete from online_house_category where info_id=#{info_id}
	  </update>
	  
	  <update id="deleteByInfoIdAndType" parameterType="map">
	  		delete from online_house_category where info_id=#{info_id} and recommended_type=#{recommended_type}
	  </update>
	  
	  
</mapper>
