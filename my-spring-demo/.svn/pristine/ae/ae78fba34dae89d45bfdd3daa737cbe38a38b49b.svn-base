<?xml version="1.0" encoding="UTF-8" ?>  
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.isz.erp.house.mapper.HouseDevelopConfigurationMapper">
	<!-- resultMap -->
	<resultMap id="HouseDevelopImgBaseMap" type="com.isz.erp.facade.house.entity.HouseDevelopConfiguration">
	    <id column="configuration_id" property="configuration_id"/>
	    <result column="house_develop_id" property="house_develop_id"/>
	    <result column="configuration_code" property="configuration_code"/>
	    <result column="create_time" property="create_time"/>
	    <result column="create_uid" property="create_uid"/>
 	</resultMap>
 	
 	<!-- 批量插入开发房源房屋设备信息 -->
	<insert id="saveHouseDevelopConfiguration" parameterType="java.util.List">
		INSERT INTO `house_develop_configuration` 
			(`configuration_id`,`house_develop_id`, `configuration_code`, `create_time`, `create_uid`)
		VALUES
        <foreach collection="list" item="item" index="index" separator="," >  
     	   (#{item.configuration_id},#{item.house_develop_id},#{item.configuration_code},#{item.create_time},#{item.create_uid})
   		</foreach>
  	</insert>
  	<!-- 删除当前开发房源房屋设备信息 -->
  	<delete id="deleteByHouseDevelopId" parameterType="java.lang.String">
  		DELETE FROM `house_develop_configuration` WHERE `house_develop_id`=#{house_develop_id}
  	</delete>
  	<!-- 查询当前开发房源下的所有配套设施 -->
  	<select id="selectListByHouseDevelopId" parameterType="java.lang.String" resultMap="HouseDevelopImgBaseMap">
  		SELECT
			hdc.configuration_id,hdc.house_develop_id,hdc.configuration_code,hdc.create_time,hdc.create_uid
		FROM
			house_develop_configuration AS hdc
		WHERE
			hdc.house_develop_id=#{house_develop_id}
  	</select>
</mapper>