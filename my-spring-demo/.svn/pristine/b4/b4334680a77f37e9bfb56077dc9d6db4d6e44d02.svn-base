<?xml version="1.0" encoding="UTF-8" ?>  
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.isz.erp.house.mapper.ResidentialBusinessCircleMapper">
	
	<!-- 保存商圈关系 -->
	<insert id="saveBusinessCircle" useGeneratedKeys="true" parameterType="java.util.List">
        INSERT INTO residential_business_circle (residential_business_circle_id, business_circle_id, residential_id, create_time, create_uid)
        VALUES 
        <foreach collection="list" item="item" index="index" separator="," >  
     	   (#{item.residential_business_circle_id},#{item.business_circle_id},#{item.residential_id},now(),#{item.create_uid})  
   		</foreach>  
    </insert>
    
    <!-- 根据楼盘id删除楼盘和商圈的关系表-->
    <delete id="deleteBusinessCircleByPremisesId" parameterType="java.lang.String">
       DELETE FROM residential_business_circle WHERE residential_id = #{residential_id}
    </delete>
    
</mapper>